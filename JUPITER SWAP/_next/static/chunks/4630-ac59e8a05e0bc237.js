"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4630],{69825:function(e,t,n){var r=n(63956),o=n(54423),i=n(93981),a=n(87821),u=n(65838),c=n(25546),s=n(89388),l=n(29541),f=["testId","name","onChange","value","disabled","decimals","onMouseOver","onFocus","onKeyDown","className","placeholder","onBlur","suffix","max","autofocus","style","enableDynamicSizing"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=i.forwardRef((function(e,t){e.testId;var n=e.name,p=e.onChange,m=e.value,v=e.disabled,h=void 0!==v&&v,b=e.decimals,g=void 0===b?6:b,w=e.onMouseOver,k=e.onFocus,O=e.onKeyDown,x=e.className,y=e.placeholder,D=e.onBlur,P=e.suffix,j=e.max,M=e.autofocus,N=void 0!==M&&M,Z=e.style,S=e.enableDynamicSizing,I=(0,o.Z)(e,f),T=(0,u.MG)().constants.MAX_INPUT_LIMIT,A=i.useMemo((function(){return I.isAllowed||function(e){var t=e.floatValue;return j?!t||t<=Number(j):!t||t<=T}}),[T,I.isAllowed,j]),C=String(m).length>=9?"text-base md:text-xl":"text-xl",E=","===c.A5?".":",",R=","===c.A5?",":".",B=i.useRef(null),L=(0,i.useState)(Z),W=L[0],_=L[1];return(0,i.useEffect)((function(){var e;S&&_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:null===(e=B.current)||void 0===e?void 0:e.clientWidth},Z))}),[m,Z,S]),(0,l.jsx)(a.Z,{onKeyDown:O,autoComplete:"off",name:n,inputMode:"decimal",onBlur:D,"data-lpignore":"true",decimalSeparator:R,value:null!==m&&void 0!==m?m:"",allowedDecimalSeparators:[".",","],thousandSeparator:E,decimalScale:g,allowNegative:!1,allowLeadingZeros:!1,disabled:h,isAllowed:A,onValueChange:function(e){e.value!==(null===m||void 0===m?void 0:m.toString())&&p&&p(e)},isNumericString:!0,placeholder:h?"":null!==y&&void 0!==y?y:"0.00",className:(0,s.cn)("h-full w-full bg-transparent disabled:cursor-not-allowed disabled:opacity-100 disabled:text-black dark:text-white text-right font-semibold dark:placeholder:text-white/25",C,x),onMouseOver:w,onFocus:k,getInputRef:t,suffix:P,autoFocus:N,style:W})}));t.Z=p},41264:function(e,t,n){n.d(t,{Z:function(){return f},i:function(){return l}});var r=n(97620),o=n(6923),i=n(93981),a=n(48645),u=n(13170),c=n(29541),s=function(e){var t=e.percentage,n=e.strokeWidth,r=void 0===n?2:n,o=e.sqSize,i=void 0===o?14:o,a=(i-r)/2,u="0 0 ".concat(i," ").concat(i),s=a*Math.PI*2,l=s-s*t/100;return(0,c.jsxs)("svg",{width:i,height:i,viewBox:u,children:[(0,c.jsx)("circle",{className:"fill-transparent stroke-black-10 dark:stroke-white-75",cx:i/2,cy:i/2,r:a,strokeWidth:"".concat(r,"px")}),(0,c.jsx)("circle",{className:"fill-transparent stroke-black",strokeLinecap:"round",strokeLinejoin:"round",cx:i/2,cy:i/2,r:a,strokeWidth:"".concat(r+.4,"px"),transform:"rotate(-90 ".concat(i/2," ").concat(i/2,")"),style:{strokeDasharray:s,strokeDashoffset:l}})]})},l=function(e){var t=e.isSubmitting,n=e.lastRefreshTimestamp,c=e.value,s=e.refresh,l=i.useState((0,o.Z)((new Date).getTime(),n)),f=(0,r.Z)(l,2),d=f[0],p=f[1];return(0,a.Z)((function(){if(!t){var e=(0,o.Z)((new Date).getTime(),n);p(e),e>=u.GJ&&(c||0)>0&&s()}}),1e3),{timeDiff:d}},f=function(e){var t=e.lastRefreshTimestamp,n=e.isSubmitting,r=e.value,o=e.refresh,a=l({isSubmitting:n,lastRefreshTimestamp:t,value:r,refresh:o}).timeDiff,f=i.useCallback((function(e){e.stopPropagation(),o()}),[o]);return(0,c.jsx)("div",{className:"cursor-pointer",onClick:f,children:(0,c.jsx)(s,{sqSize:10,percentage:a/u.GJ*100})})}},59295:function(e,t,n){n.d(t,{c:function(){return i}});var r=n(13838),o=n(25546),i=function(e,t){var n=e.inAmount,i=e.inputDecimal,a=e.outAmount,u=e.outputDecimal,c=(0,o.lt)(n,i),s=(0,o.lt)(a,u),l=t?new r.Z(s).div(c):new r.Z(c).div(s);return Number.isNaN(l.toNumber())?0:l.lessThan(.1)?Number(l.toPrecision(Math.max(t?u:i,1))):l.toDP(t?u:i).toNumber()}},14640:function(e,t,n){var r=n(7761),o=n(93981),i=n(70835),a=n(65838);t.Z=function(e){var t=e.selectedRoute,n=e.hasEnoughSOL,u=(0,i.so)(),c=(0,i.gJ)(),s=(0,a.Os)().connected;return{errors:o.useMemo((function(){var e=[];return 100*Number((null===t||void 0===t?void 0:t.quoteResponse.priceImpactPct)||0)>5&&e.push(r.ag._("Price impact more than 5%")),u.isDanger&&e.push(r.ag._("{0}% more expensive than CoinGecko rate",{0:u.formattedPercent})),s&&!n&&c&&(c.openOrdersDeposits.length||c.ataDeposits.length?e.push(r.ag._("You need at least {0} SOL to pay for fees and deposits",{0:c.minimumSOLForTransaction/Math.pow(10,9)})):e.push(r.ag._("You need at least {0} SOL to pay for fees",{0:c.minimumSOLForTransaction/Math.pow(10,9)}))),e}),[null===t||void 0===t?void 0:t.quoteResponse.priceImpactPct,u.isDanger,u.formattedPercent,s,n,c])}}},70835:function(e,t,n){n.d(t,{so:function(){return M},Gl:function(){return y},on:function(){return P},gJ:function(){return j}});var r=n(63956),o=n(93981),i=n(13838),a=n(9364),u=n(3011),c=n(99864),s=n(27195),l=n(8857),f=n.n(l),d=n(96343),p=n(41144),m=n(59295);var v=n(65838),h=n(12197),b=n(44495);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(0,a.cn)({inputTokenInfo:void 0,outputTokenInfo:void 0}),O=(0,a.cn)(null),x=(0,a.cn)({isCheaper:!1,isMoreExp:!1,isWithinTwoPercent:!1,isWithinFivePercent:!1,isDanger:!1,isWarning:!1,percent:0,formattedPercent:"",rate:null,rateDiff:null,apiURL:""}),y=function(e,t,n){var r=(0,v.Bn)().getTokenInfo,a=(0,v.jB)().useWSol,c=(0,u.b9)(k),l=(0,u.b9)(O),g=(0,u.b9)(x),y=(0,v.gZ)().addressToTokenAccountMap,P=(0,o.useMemo)((function(){var e=new Map;return y.forEach((function(t,n){e.set(t.info.mint.toBase58(),t.pubkey.toBase58())})),e}),[y]),j=(0,o.useMemo)((function(){return[r(t),r(n)]}),[r,t,n]),M=j[0],N=j[1];(0,b.Z)((function(){c({inputTokenInfo:M,outputTokenInfo:N})}),[M,N,c]),(0,b.Z)((function(){l(e?D(e,P,!a):null)}),[e,l,P,a]);var Z=function(e){var t,n,r=e.inputAmount,a=e.inputTokenInfo,u=e.outputAmount,c=e.outputTokenInfo,l=(null===a||void 0===a||null===(t=a.extensions)||void 0===t?void 0:t.coingeckoId)||"",v=(null===c||void 0===c||null===(n=c.extensions)||void 0===n?void 0:n.coingeckoId)||"",h=(0,o.useMemo)((function(){return"https://api.coingecko.com/api/v3/simple/price?ids=".concat(l,",").concat(v,"&vs_currencies=usd")}),[l,v]),b=(0,d.aM)([h],(0,s.Z)(f().mark((function e(){var t,n,r,o,a,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&v){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,p.ZP.get(h).json();case 5:return a=e.sent,u=null!==(t=a[l])&&void 0!==t&&t.usd&&null!==(n=a[v])&&void 0!==n&&n.usd?new i.Z(null===(r=a[l])||void 0===r?void 0:r.usd).div(new i.Z(null===(o=a[v])||void 0===o?void 0:o.usd)):null,e.abrupt("return",u);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),{refetchInterval:3e4,staleTime:3e4}),g=(0,o.useMemo)((function(){return b.data?b.data.toNumber():null}),[b.data]),w=(0,o.useMemo)((function(){if(g&&a&&c&&r&&u){var e=(0,m.c)({inAmount:r,inputDecimal:a.decimals,outAmount:u,outputDecimal:c.decimals},!0);if(e&&g)return new i.Z(e).div(g).toDecimalPlaces(3).toNumber()}return null}),[g,r,u,a,c]);return(0,o.useMemo)((function(){return{rate:g,rateDiff:w,apiURL:h}}),[g,w,h])}({inputTokenInfo:M,outputTokenInfo:N,inputAmount:null===e||void 0===e?void 0:e.inAmount,outputAmount:null===e||void 0===e?void 0:e.outAmount}),S=(0,o.useMemo)((function(){var e=null===Z||void 0===Z?void 0:Z.rateDiff;if("number"!==typeof e)return x.init;var t=e>=1,n=e<1,r=n?1-e<=.02:e-1<=.02,o=n?1-e<=.05:e-1<=.05,a=!t&&!r&&o,u=!t&&!o,c=n?new i.Z(1).minus(e).mul(100).toDecimalPlaces(3).toNumber():new i.Z(e).minus(1).mul(100).toDecimalPlaces(3).toNumber();return w({isCheaper:t,isMoreExp:n,isWithinTwoPercent:r,isWithinFivePercent:o,isWarning:a,isDanger:u,percent:c,formattedPercent:h.uf.format(c)},Z)}),[Z]);(0,b.Z)((function(){g(S)}),[g,S])},D=function(e,t,n){var r=new i.Z(e.priceImpactPct||0).mul(100).toNumber();return w({isHighImpact:r>5,isMediumImpact:r>=2&&r<=5,priceImpact:r},(0,c.rR)(e,t,new Map,n,!0))},P=function(){return(0,u.Dv)(k)},j=function(){return(0,u.Dv)(O)},M=function(){return(0,u.Dv)(x)}},16941:function(e,t,n){var r=n(93981),o=n(89388),i=n(29541);t.Z=function(e){var t=e.idx,n=e.itemsCount,a=e.className,u=void 0===a?"":a,c=e.onClick,s=e.highlighted,l=e.roundBorder,f=e.children,d="left"===l?"v2-border-gradient-left":"right"===l?"v2-border-gradient-right":void 0,p=(0,r.useMemo)((function(){if(t>0&&t<n)return"border-l border-black/10 dark:border-white/5"}),[t,n]);return(0,i.jsx)("button",{type:"button",className:(0,o.cn)("".concat(p," ").concat("relative flex-1 py-4 px-1 text-black-50 dark:text-white-50 dark:bg-[#1B1B1E]"," ").concat(u," relative"),s&&"v2-border-gradient ".concat(d," bg-v2-dark-gradient bg-transparent dark:text-white")),onClick:c,children:(0,i.jsx)("div",{className:"h-full w-full leading-none flex justify-center items-center",children:f})})}}}]);
//# sourceMappingURL=4630-ac59e8a05e0bc237.js.map